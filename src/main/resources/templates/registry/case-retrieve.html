<!DOCTYPE html>
<html th:replace="~{layout/registry :: layout(_,~{},~{},~{::content},~{::subnav})}">

<subnav>
	<div class="m-1 small"></div>
</subnav>

<content> 
	
	<a class="btn btn-success" href="#" th:href="@{/registry/add}" th:utext="#{add.case.button}"></a>
	<a class="btn btn-dark" href="#" th:href="@{/registry/redcap}" th:utext="#{redcap.button}"></a>		
	<div class="table-responsive mt-2">
		<table class="table table-hover table-bordered table-sm table-responsive-sm small">
			<thead>
				<tr class="table-dark">
					<th th:text="#{th.action.link}"></th>
					<th th:text="#{th.date.entered}"></th>
					<th th:text="#{th.mother.name}"></th>
					<th th:text="#{th.case.type}"></th>
					<th th:text="#{th.entry.status}" style="width: 50%"></th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="item : ${items}">
					<th><a href="#" th:href="@{/registry/edit/{id}?page=0(id=${item.case_uuid})}"
							th:text="#{edit.link}"></a></th>
					<td th:text="${item.case_date}"></td>
					<td th:text="${item.case_mname}"></td>
					<td th:text="${item.case_death == 1}?#{label.still.birth}:(${item.case_death == 2}?#{label.neonatal.death}:#{label.maternal.death})"></td>
					<td>
						<a th:href="@{/registry/edit/{id}?page=1(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.biodata}?(${item.biodata.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Profile</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=2(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.referral}?(${item.referral.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Referral</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=3(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.pregnancy}?(${item.pregnancy.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Pregnancy</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=4(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.antenatal}?(${item.antenatal.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Antenatal</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=5(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.labour}?(${item.labour.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Labour</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=6(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.delivery}?(${item.delivery.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Delivery</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=7(id=${item.case_uuid})}">
							<span class="badge"
								th:classappend="${item.birth}?(${item.birth.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Birth</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=8(id=${item.case_uuid})}" th:if="${item.case_death==1}">
							<span class="badge"
								th:classappend="${item.fetalheart}?(${item.fetalheart.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Fetal
								Heart</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=8(id=${item.case_uuid})}" th:if="${item.case_death==2}">
							<span class="badge"
								th:classappend="${item.babydeath}?(${item.babydeath.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Baby's
								Death</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=8(id=${item.case_uuid})}" th:if="${item.case_death==3}">
							<span class="badge"
								th:classappend="${item.mdeath}?(${item.mdeath.data_complete==1}?'bg-success':'bg-warning text-dark'):'bg-danger'">Mother's'
								Death</span>
						</a>
						<a th:href="@{/registry/edit/{id}?page=9(id=${item.case_uuid})}">
							<span class="badge" th:classappend="${item.notes}?'bg-success':'bg-danger'">Notes</span>
						</a>
						<span th:text="${item.case_status==1}?'Submitted!':'Incomplete'"
							th:class="${item.case_status==1}?'text-primary fw-bold':'text-muted'"></span>

					</td>
				</tr>
			</tbody>
		</table>
	</div>
</content>

</html>